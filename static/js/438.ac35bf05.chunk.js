"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[438],{4438:function(e,n,i){i.r(n),i.d(n,{default:function(){return z}});var r=i(1413),s=i(885),t=i(2791),a=i(6394),l=i(6731),o=i(184),c=(0,t.memo)((function(e){var n=e.user,i=n.id,r=n.photos,s=n.followed,t=n.name,c=n.status,f=e.followingInProgress,u=e.unfollow,d=e.follow;return(0,o.jsx)("section",{className:"find-friends__profile__container",children:(0,o.jsxs)("div",{className:"find-friends__profile__inner",children:[(0,o.jsxs)("div",{className:"find-friends__profile__img-name__wrapper",children:[(0,o.jsx)(l.OL,{className:"",to:"/Profile/"+i,children:(0,o.jsx)("img",{src:null!=r.small?r.small:a,className:"find-friends__profile__img",alt:"avatar"})}),(0,o.jsxs)("div",{children:[(0,o.jsx)(l.OL,{className:"",to:"/Profile/"+i,children:(0,o.jsx)("p",{className:"find-friends__profile__name",children:t})}),(0,o.jsx)("p",{className:"find-friends__profile__status",children:null!=c?c:"Hi guys! Tomorrow I will be boarding, who is with me?"})]})]}),(0,o.jsx)("div",{children:s?(0,o.jsx)("button",{disabled:f.some((function(e){return e===i})),onClick:function(){u(i)},className:"find-friends__profile__add-btn btn _hover",children:"Unfollow"}):(0,o.jsx)("button",{disabled:f.some((function(e){return e===i})),onClick:function(){d(i)},className:"find-friends__profile__add-btn btn _hover",children:"Follow"})})]})})})),f=(0,t.memo)((function(e){for(var n=e.totalItemsCount,i=e.pageSize,r=e.currentPage,s=e.onPageChanged,t=e.halfPortionSize,a=void 0===t?5:t,l=Math.ceil(n/i),c=[],f=1;f<=l;f++)c.push(f);var u=r-a<0?0:r-a,d=r+a,m=c.slice(u,d);return(0,o.jsx)("div",{className:"pagination__container",children:m.map((function(e){return(0,o.jsx)("div",{className:"pagination__page",children:(0,o.jsx)("span",{className:r===e?"pagination__selected-page _hover":"",onClick:function(n){s(e)},children:e},e)},e)}))})})),u=i(6482),d=i(2506),m=function(e){return e.usersPage.usersData},_=function(e){return e.usersPage.pageSize},g=function(e){return e.usersPage.totalUsersCount},h=function(e){return e.usersPage.setCurrentPage},p=function(e){return e.usersPage.isFetching},x=function(e){return e.usersPage.followingInProgress},j=function(e){return e.usersPage.filter},v=function(e){return{}},N=(0,t.memo)((function(e){var n=(0,u.C)(j);return(0,o.jsx)("section",{className:"find-friends__search-form__container",children:(0,o.jsx)(d.J9,{enableReinitialize:!0,initialValues:{term:n.term,friend:String(n.friend)},validate:v,onSubmit:function(n,i){var r=i.setSubmitting,s={term:n.term,friend:"null"===n.friend?null:"true"===n.friend};setTimeout((function(){e.onFilterChanged(s),r(!1)}),400)},children:function(e){var n=e.isSubmitting;return(0,o.jsxs)(d.l0,{children:[(0,o.jsx)(d.gN,{className:"find-friends__search-form__text-input",type:"text",name:"term"}),(0,o.jsxs)(d.gN,{className:"find-friends__search-form__select",name:"friend",as:"select",children:[(0,o.jsx)("option",{value:"null",children:"All"}),(0,o.jsx)("option",{value:"true",children:"Only followed"}),(0,o.jsx)("option",{value:"false",children:"Only unfollowed"})]}),(0,o.jsx)("button",{className:"find-friends__search-form__btn btn _hover",type:"submit",disabled:n,children:"Find"})]})}})})})),b=i(7256),P=(0,t.memo)((function(e){var n=e.currentPage,i=e.pageSize,r=e.filter,s=(0,u.C)(m),t=(0,u.C)(g),a=(0,u.C)(x),l=(0,u.T)(),d=function(e){l((0,b.D7)({actualPage:e,pageSize:i,actualFilter:r}))},_=function(e){l((0,b.gO)(e))},h=function(e){l((0,b.kW)(e))},p=s.map((function(e){return(0,o.jsx)(c,{user:e,follow:_,unfollow:h,followingInProgress:a},e.id)}));return(0,o.jsxs)("main",{className:"find-friends__container",children:[(0,o.jsx)("h2",{className:"main-page__h2",children:"USERS"}),(0,o.jsx)("div",{className:"find-friends__wrapper",children:(0,o.jsxs)("section",{className:"find-friends__inner",children:[(0,o.jsx)(N,{onFilterChanged:function(e){l((0,b.D7)({actualPage:1,pageSize:i,actualFilter:e}))}}),(0,o.jsx)("div",{className:"find-friends__item__inner",children:p}),(0,o.jsx)("button",{className:"find-friends__next-page-btn btn _hover",onClick:function(e){d(n+1)},children:"Show more"}),(0,o.jsx)(f,{totalItemsCount:t,pageSize:i,currentPage:n,onPageChanged:d})]})})]})})),C=i(8109),w=i(4014),S=(0,t.memo)((function(){var e=(0,u.C)(p),n=(0,u.C)(j),i=(0,u.C)(_),a=(0,u.C)(h),c=(0,u.T)(),f=(0,l.lr)(),d=(0,s.Z)(f,2),m=d[0],g=d[1];return(0,t.useEffect)((function(){var e=m.get("page"),s=m.get("term")||"",t=m.get("friend"),l=a,o=n;e&&(l=Number(e)),s&&(o=(0,r.Z)((0,r.Z)({},o),{},{term:s})),t&&(o=(0,r.Z)((0,r.Z)({},o),{},{friend:"null"===t?null:"true"===t})),c((0,b.D7)({actualPage:l,pageSize:i,actualFilter:o}))}),[c,i,m]),(0,t.useEffect)((function(){var e={};n.term&&(e.term=n.term),null!==n.friend&&(e.friend=String(n.friend)),1!==a&&(e.page=String(a)),g(e)}),[n,a,g]),e?(0,o.jsx)(C.Z,{}):(0,o.jsx)(P,{currentPage:a,pageSize:i,filter:n})})),z=(0,w.h)(S)}}]);
//# sourceMappingURL=438.ac35bf05.chunk.js.map