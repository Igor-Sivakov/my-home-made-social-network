{"version":3,"file":"static/js/337.8d4fd6ff.chunk.js","mappings":"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","sources":["redux/slices/user-slice/usersSelectors.ts","components/Users/UsersSearchForm/UsersSearchForm.tsx","components/Users/UserProfile/UserProfile.tsx","components/common/Pagination/Pagination.tsx","components/Users/Users.tsx","components/Users/UsersPage.tsx","redux/slices/user-slice/userAsyncActions.ts"],"sourcesContent":["import { AppStateType } from \"../../store\"\n\nexport const getUsers = (state: AppStateType) => {\n  return state.usersPage.usersData\n}\n\nexport const getPageSize = (state: AppStateType) => {\n  return state.usersPage.pageSize\n}\n\nexport const getTotalUsersCount = (state: AppStateType) => {\n  return state.usersPage.totalUsersCount\n}\n\nexport const getCurrentPage = (state: AppStateType) => {\n  return state.usersPage.setCurrentPage\n}\n\nexport const getIsFetching = (state: AppStateType) => {\n  return state.usersPage.isFetching\n}\n\nexport const getFollowingInProgress = (state: AppStateType) => {\n  return state.usersPage.followingInProgress\n}\n\nexport const getUsersFilter = (state: AppStateType) => {\n  return state.usersPage.filter\n}\n\n","import { FC, memo } from 'react'\n\nimport { useAppSelector } from '../../../types/typedDispatch&Selector.types'\n\nimport { getUsersFilter } from '../../../redux/slices/user-slice/usersSelectors'\n\nimport { UsersFilterType } from '../../../types/reducers.types'\n\nimport { Formik, Form, Field } from 'formik'\n\nimport './UsersSearchForm.css'\n\nconst usersSearchFormValidate = (values: any) => {\n  const errors = {}\n  return errors\n}\n\ntype FormType = {\n  term: string\n  friend: 'true' | 'false' | 'null'\n}\n\ntype PropsType = {\n  onFilterChanged: (filter: UsersFilterType) => void\n}\n\nconst UsersSearchForm: FC<PropsType> = memo((props) => {\n  const filterS = useAppSelector(getUsersFilter)\n\n  const submit = (\n    values: FormType,\n    { setSubmitting }: { setSubmitting: (isSubmitting: boolean) => void }\n  ) => {\n    const filter: UsersFilterType = {\n      term: values.term,\n      friend:\n        values.friend === 'null'\n          ? null\n          : values.friend === 'true'\n          ? true\n          : false,\n    }\n\n    setTimeout(() => {\n      props.onFilterChanged(filter)\n      setSubmitting(false)\n    }, 400)\n  }\n\n  return (\n    <section className='find-friends__search-form__container'>\n      <Formik\n        enableReinitialize\n        initialValues={\n          { term: filterS.term, friend: String(filterS.friend) } as FormType\n        }\n        validate={usersSearchFormValidate}\n        onSubmit={submit}\n      >\n        {({ isSubmitting }) => (\n          <Form>\n            <Field\n              className='find-friends__search-form__text-input'\n              type='text'\n              placeholder='find users by name...'\n              name='term'\n            />\n\n            <Field\n              className='find-friends__search-form__select'\n              name='friend'\n              as='select'\n            >\n              <option value='null'>All</option>\n              <option value='true'>Only followed</option>\n              <option value='false'>Only unfollowed</option>\n            </Field>\n\n            <button\n              className='find-friends__search-form__btn btn _hover'\n              type='submit'\n              disabled={isSubmitting}\n            >\n              Find\n            </button>\n          </Form>\n        )}\n      </Formik>\n    </section>\n  )\n})\n\nexport default UsersSearchForm\n","import { FC, memo } from 'react'\nimport { NavLink } from 'react-router-dom'\n\nimport userAvatar from '../../../assets/img/userAvatar.jpeg'\n\nimport { UserDataType } from '../../../types/reducers.types'\n\nimport './UserProfile.css'\n\ntype PropsType = {\n  user: UserDataType\n  followingInProgress: number[]\n  follow: (userId: number) => void\n  unfollow: (userId: number) => void\n}\n\nconst UserProfile: FC<PropsType> = memo(\n  ({\n    user: { id, photos, followed, name, status },\n    followingInProgress,\n    unfollow,\n    follow,\n  }) => {\n    return (\n      <section className='find-friends__profile__container'>\n        <div className='find-friends__profile__inner'>\n          <div className='find-friends__profile__img-name__wrapper'>\n            <NavLink className='' to={'/Profile/' + id}>\n              <img\n                src={photos.small != null ? photos.small : userAvatar}\n                className='find-friends__profile__img'\n                alt='avatar'\n              />\n            </NavLink>\n\n            <div>\n              <NavLink className='' to={'/Profile/' + id}>\n                <p className='find-friends__profile__name'>{name}</p>\n              </NavLink>\n\n              <p className='find-friends__profile__status'>\n                {status != null\n                  ? status\n                  : 'Hi guys! Tomorrow I will be boarding, who is with me?'}\n              </p>\n            </div>\n          </div>\n\n          <div>\n            {followed ? (\n              <button\n                disabled={followingInProgress.some((iD) => iD === id)}\n                onClick={() => {\n                  unfollow(id)\n                }}\n                className='find-friends__profile__add-btn btn _hover'\n              >\n                Unfollow\n              </button>\n            ) : (\n              <button\n                disabled={followingInProgress.some((iD) => iD === id)}\n                onClick={() => {\n                  follow(id)\n                }}\n                className='find-friends__profile__add-btn btn _hover'\n              >\n                Follow\n              </button>\n            )}\n          </div>\n        </div>\n      </section>\n    )\n  }\n)\n\nexport default UserProfile\n","import { FC, memo } from 'react'\nimport './Pagination.css'\n\ntype PropsType = {\n  totalItemsCount: number\n  pageSize: number\n  currentPage: number\n  halfPortionSize?: number\n  onPageChanged: (page: number) => void\n}\n\nconst Pagination: FC<PropsType> = memo(\n  ({\n    totalItemsCount,\n    pageSize,\n    currentPage,\n    onPageChanged,\n    halfPortionSize = 5,\n  }) => {\n    let pagesCount = Math.ceil(totalItemsCount / pageSize)\n\n    let pages: number[] = []\n\n    for (let i = 1; i <= pagesCount; i++) {\n      pages.push(i)\n    }\n\n    let curP = currentPage\n    let curPF = curP - halfPortionSize < 0 ? 0 : curP - halfPortionSize\n    let curPL = curP + halfPortionSize\n    let slicedPages = pages.slice(curPF, curPL)\n\n    return (\n      <div className='pagination__container'>\n        {slicedPages.map((page) => {\n          return (\n            <div className='pagination__page' key={page}>\n              <span\n                key={page}\n                className={\n                  currentPage === page ? 'pagination__selected-page _hover' : ''\n                }\n                onClick={(e) => {\n                  onPageChanged(page)\n                }}\n              >\n                {page}\n              </span>\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n)\n\nexport default Pagination\n","import { FC, memo } from 'react'\nimport { AnyAction, AsyncThunkAction } from '@reduxjs/toolkit'\n\nimport {\n  useAppSelector,\n  useAppDispatch,\n} from '../../types/typedDispatch&Selector.types'\n\nimport {\n  getFollow,\n  getUnfollow,\n  requestUsers,\n} from '../../redux/slices/user-slice/userAsyncActions'\n\nimport {\n  getFollowingInProgress,\n  getTotalUsersCount,\n  getUsers,\n} from '../../redux/slices/user-slice/usersSelectors'\n\nimport { UsersFilterType, UserDataType } from '../../types/reducers.types'\n\nimport UsersSearchForm from './UsersSearchForm/UsersSearchForm'\nimport UserProfile from './UserProfile/UserProfile'\nimport Pagination from '../common/Pagination/Pagination'\n\nimport './Users.css'\n\ntype PropsType = {\n  currentPage: number\n  pageSize: number\n  filter: UsersFilterType\n}\n\nconst Users: FC<PropsType> = memo(({ currentPage, pageSize, filter }) => {\n  const users = useAppSelector(getUsers)\n  const totalUsersCount = useAppSelector(getTotalUsersCount)\n  const followingInProgress = useAppSelector(getFollowingInProgress)\n\n  const dispatch = useAppDispatch()\n\n  const onPageChanged = (pageNumber: number) => {\n    dispatch(\n      requestUsers({\n        actualPage: pageNumber,\n        pageSize,\n        actualFilter: filter,\n      }) as AsyncThunkAction<\n        void,\n        { actualPage: number; pageSize: number; actualFilter: UsersFilterType },\n        {}\n      > &\n        AnyAction\n    )\n  }\n\n  const onFilterChanged = (filter: UsersFilterType) => {\n    dispatch(\n      requestUsers({\n        actualPage: 1,\n        pageSize,\n        actualFilter: filter,\n      }) as AsyncThunkAction<\n        void,\n        { actualPage: number; pageSize: number; actualFilter: UsersFilterType },\n        {}\n      > &\n        AnyAction\n    )\n  }\n\n  const follow = (userId: number) => {\n    dispatch(\n      getFollow(userId) as AsyncThunkAction<void, number, {}> & AnyAction\n    )\n  }\n\n  const unfollow = (userId: number) => {\n    dispatch(\n      getUnfollow(userId) as AsyncThunkAction<void, number, {}> & AnyAction\n    )\n  }\n\n  const userProfileElement = users.map((profile: UserDataType) => (\n    <UserProfile\n      user={profile}\n      key={profile.id}\n      follow={follow}\n      unfollow={unfollow}\n      followingInProgress={followingInProgress}\n    />\n  ))\n\n  return (\n    <main className='find-friends__container'>\n      <h2 className='main-page__h2'>USERS</h2>\n\n      <div className='find-friends__wrapper'>\n        <section className='find-friends__inner'>\n          <UsersSearchForm onFilterChanged={onFilterChanged} />\n\n          <div className='find-friends__item__inner'>{userProfileElement}</div>\n\n          <button\n            className='find-friends__next-page-btn btn _hover'\n            onClick={(e) => {\n              onPageChanged(currentPage + 1)\n            }}\n          >\n            Show more\n          </button>\n\n          <Pagination\n            totalItemsCount={totalUsersCount}\n            pageSize={pageSize}\n            currentPage={currentPage}\n            onPageChanged={onPageChanged}\n          />\n        </section>\n      </div>\n    </main>\n  )\n})\n\nexport default Users\n","import { FC, memo, useEffect } from 'react'\nimport { useSearchParams } from 'react-router-dom'\nimport { AnyAction, AsyncThunkAction } from '@reduxjs/toolkit'\n\nimport {\n  useAppSelector,\n  useAppDispatch,\n} from '../../types/typedDispatch&Selector.types'\n\nimport { requestUsers } from '../../redux/slices/user-slice/userAsyncActions'\n\nimport {\n  getCurrentPage,\n  getIsFetching,\n  getPageSize,\n  getUsersFilter,\n} from '../../redux/slices/user-slice/usersSelectors'\n\nimport { UsersFilterType } from '../../types/reducers.types'\n\nimport { withAuthReNavigate } from '../HOC/withAuthReNavigate'\n\nimport Preloader from '../common/preloader/preloader'\nimport Users from './Users'\n\ntype QueryParamsType = {\n  term?: string\n  friend?: string\n  page?: string\n}\n\nconst UserPage: FC = memo(() => {\n  const isFetching = useAppSelector(getIsFetching)\n  const filter = useAppSelector(getUsersFilter)\n  const pageSize = useAppSelector(getPageSize)\n  const currentPage = useAppSelector(getCurrentPage)\n\n  const dispatch = useAppDispatch()\n\n  const [searchParams, setSearchParams] = useSearchParams()\n\n  useEffect(() => {\n    const pageQuery = searchParams.get('page')\n    const termQuery = searchParams.get('term') || ''\n    const friendQuery = searchParams.get('friend')\n\n    let actualPage = currentPage\n    let actualFilter = filter\n\n    if (!!pageQuery) actualPage = Number(pageQuery)\n\n    if (!!termQuery)\n      actualFilter = { ...actualFilter, term: termQuery as string }\n\n    if (!!friendQuery)\n      actualFilter = {\n        ...actualFilter,\n        friend:\n          friendQuery === 'null' ? null : friendQuery === 'true' ? true : false,\n      }\n\n    dispatch(\n      requestUsers({ actualPage, pageSize, actualFilter }) as AsyncThunkAction<\n        void,\n        { actualPage: number; pageSize: number; actualFilter: UsersFilterType },\n        {}\n      > &\n        AnyAction\n    )\n  }, [dispatch, pageSize, searchParams])\n\n  useEffect(() => {\n    const query: QueryParamsType = {}\n\n    if (!!filter.term) query.term = filter.term\n    if (filter.friend !== null) query.friend = String(filter.friend)\n    if (currentPage !== 1) query.page = String(currentPage)\n\n    setSearchParams(query)\n  }, [filter, currentPage, setSearchParams])\n\n  if (isFetching) return <Preloader />\n\n  return <Users currentPage={currentPage} pageSize={pageSize} filter={filter} />\n})\n\nexport default withAuthReNavigate(UserPage)\n","import { AnyAction, Dispatch } from \"redux\"\nimport { createAsyncThunk } from \"@reduxjs/toolkit\"\n\nimport { follow, setCurrentPage, setFilter, setTotalUsersCount, setUsers, toggleFollowingProgress, toggleIsFetching, unfollow } from \"./usersReducer\"\n\nimport { ResponseDataType, ResultCodeEnum } from \"../../../API/profileAPI\"\nimport { userAPI } from \"../../../API/userAPI\"\n\nimport { UsersFilterType } from \"../../../types/reducers.types\"\n\n\n\n\nexport const requestUsers = createAsyncThunk<void, { actualPage: number, pageSize: number, actualFilter: UsersFilterType }>('users/requestUsers',\n  async ({ actualPage, pageSize, actualFilter }, { dispatch }) => {\n    try {\n      dispatch(toggleIsFetching(true))\n      dispatch(setCurrentPage(actualPage))\n      dispatch(setFilter(actualFilter))\n\n      const users = await userAPI.getUser(actualPage, pageSize,\n        actualFilter.term, actualFilter.friend)\n\n      dispatch(toggleIsFetching(false))\n      dispatch(setUsers(users.items))\n      dispatch(setTotalUsersCount(users.totalCount))\n    } catch (error) {\n      console.warn(error)\n    }\n  })\n\nconst _followUnfollowFlow = async (\n  dispatch: Dispatch<AnyAction>,\n  userId: number,\n  apiMethod: (userId: number) => Promise<ResponseDataType>,\n  actionCreator: (userId: number) => AnyAction\n) => {\n  try {\n    dispatch(toggleFollowingProgress({ inProgress: true, userId }))\n    const followUnfollowResponse = await apiMethod(userId)\n\n    if (followUnfollowResponse.resultCode === ResultCodeEnum.Success) {\n      dispatch(actionCreator(userId))\n    }\n\n    dispatch(toggleFollowingProgress({ inProgress: false, userId }))\n  } catch (error) {\n    console.warn(error)\n  }\n}\n\nexport const getFollow = createAsyncThunk<void, number>('users/getFollow',\n  async (userId, { dispatch }) => {\n    await _followUnfollowFlow(dispatch, userId,\n      userAPI.follow.bind(userAPI), follow\n    )\n  })\n\nexport const getUnfollow = createAsyncThunk<void, number>('users/getUnfollow',\n  async (userId, { dispatch }) => {\n    await _followUnfollowFlow(\n      dispatch,\n      userId,\n      userAPI.unfollow.bind(userAPI),\n      unfollow\n    )\n  })"],"names":["getUsers","state","usersPage","usersData","getPageSize","pageSize","getTotalUsersCount","totalUsersCount","getCurrentPage","setCurrentPage","getIsFetching","isFetching","getFollowingInProgress","followingInProgress","getUsersFilter","filter","usersSearchFormValidate","values","memo","props","filterS","useAppSelector","className","enableReinitialize","initialValues","term","friend","String","validate","onSubmit","setSubmitting","setTimeout","onFilterChanged","isSubmitting","type","placeholder","name","as","value","disabled","user","id","photos","followed","status","unfollow","follow","to","src","small","userAvatar","alt","some","iD","onClick","totalItemsCount","currentPage","onPageChanged","halfPortionSize","pagesCount","Math","ceil","pages","i","push","curPF","curPL","slicedPages","slice","map","page","e","users","dispatch","useAppDispatch","pageNumber","requestUsers","actualPage","actualFilter","userId","getFollow","getUnfollow","userProfileElement","profile","UserPage","useSearchParams","searchParams","setSearchParams","useEffect","pageQuery","get","termQuery","friendQuery","Number","query","withAuthReNavigate","createAsyncThunk","toggleIsFetching","setFilter","userAPI","setUsers","items","setTotalUsersCount","totalCount","console","warn","_followUnfollowFlow","apiMethod","actionCreator","toggleFollowingProgress","inProgress","resultCode","ResultCodeEnum"],"sourceRoot":""}