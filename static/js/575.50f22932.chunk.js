"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[575],{575:function(e,n,i){i.r(n),i.d(n,{default:function(){return P}});var r=i(1413),t=i(885),s=i(8687),l=i(2791),a=i(6394),o=i(6731),u=i(184),f=function(e){var n=e.user,i=n.id,r=n.photos,t=n.followed,s=n.name,l=n.status,f=e.followingInProgress,c=e.unfollow,d=e.follow;return(0,u.jsxs)("div",{className:"friends-profile__wrapper",children:[(0,u.jsxs)("div",{className:"friends-profile__item",children:[(0,u.jsx)(o.OL,{to:"/Profile/"+i,children:(0,u.jsx)("img",{src:null!=r.small?r.small:a,className:"friends-profile__item__img",alt:"avatar"})}),t?(0,u.jsx)("button",{disabled:f.some((function(e){return e===i})),onClick:function(){c(i)},className:"friends-profile__item__btn btn",children:"Unfollow"}):(0,u.jsx)("button",{disabled:f.some((function(e){return e===i})),onClick:function(){d(i)},className:"friends-profile__item__btn btn",children:"Follow"})]}),(0,u.jsxs)("div",{className:"friends-profile__info",children:[(0,u.jsxs)("div",{className:"friends-profile__info__leftSide",children:[(0,u.jsx)("p",{className:"friends-profile__info__leftSide__name",children:s}),(0,u.jsx)("p",{className:"friends-profile__info__leftSide__status",children:null!=l?l:"Hi guys! Tomorrow I will be boarding, who is with me?"})]}),(0,u.jsxs)("div",{className:"friends-profile__info__rightSide",children:[(0,u.jsx)("p",{className:"friends-profile__info__rightSide__country",children:"Ukrain"}),(0,u.jsx)("p",{className:"friends-profile__info__rightSide__town",children:"Kiev"})]})]})]})},c=function(e){for(var n=e.totalItemsCount,i=e.pageSize,r=e.currentPage,t=e.onPageChanged,s=e.halfPortionSize,l=void 0===s?5:s,a=Math.ceil(n/i),o=[],f=1;f<=a;f++)o.push(f);var c=r-l<0?0:r-l,d=r+l,m=o.slice(c,d);return(0,u.jsx)("div",{className:"pagination",children:m.map((function(e){return(0,u.jsx)("div",{className:"pagination__page",children:(0,u.jsx)("span",{className:r===e?"selected_page":"",onClick:function(n){t(e)},children:e},e)},e)}))})},d=i(2506),m=function(e){return e.usersPage.usersData},_=function(e){return e.usersPage.pageSize},g=function(e){return e.usersPage.totalUsersCount},p=function(e){return e.usersPage.setCurrentPage},h=function(e){return e.usersPage.isFetching},v=function(e){return e.usersPage.followingInProgress},x=function(e){return e.usersPage.filter},j=function(e){return{}},b=(0,l.memo)((function(e){var n=(0,s.v9)(x);return(0,u.jsx)("div",{children:(0,u.jsx)(d.J9,{enableReinitialize:!0,initialValues:{term:n.term,friend:String(n.friend)},validate:j,onSubmit:function(n,i){var r=i.setSubmitting,t={term:n.term,friend:"null"===n.friend?null:"true"===n.friend};setTimeout((function(){e.onFilterChanged(t),r(!1)}),400)},children:function(e){var n=e.isSubmitting;return(0,u.jsxs)(d.l0,{children:[(0,u.jsx)(d.gN,{type:"text",name:"term"}),(0,u.jsxs)(d.gN,{name:"friend",as:"select",children:[(0,u.jsx)("option",{value:"null",children:"All"}),(0,u.jsx)("option",{value:"true",children:"Only followed"}),(0,u.jsx)("option",{value:"false",children:"Only unfollowed"})]}),(0,u.jsx)("button",{type:"submit",disabled:n,children:"Find"})]})}})})})),N=i(7256),w=(0,l.memo)((function(e){var n=e.currentPage,i=e.pageSize,r=e.filter,t=(0,s.v9)(m),l=(0,s.v9)(g),a=(0,s.v9)(v),o=(0,s.I0)(),d=function(e){o((0,N.D7)(e,i,r))},_=function(e){o((0,N.gO)(e))},p=function(e){o((0,N.kW)(e))},h=t.map((function(e){return(0,u.jsx)(f,{user:e,follow:_,unfollow:p,followingInProgress:a},e.id)}));return(0,u.jsxs)("div",{className:"find-friends",children:[(0,u.jsx)("h2",{className:"main-page__h2",children:"USERS"}),(0,u.jsx)(b,{onFilterChanged:function(e){o((0,N.D7)(1,i,e))}}),h,(0,u.jsx)("div",{className:"find-friends__pageBtn__inner",children:(0,u.jsx)("button",{className:"find-friends__pageBtn btn",onClick:function(e){d(n+1)},children:"Show more"})}),(0,u.jsx)(c,{totalItemsCount:l,pageSize:i,currentPage:n,onPageChanged:d})]})})),S=i(1601),P=(0,i(4014).h)((function(){var e=(0,s.v9)(h),n=(0,s.v9)(x),i=(0,s.v9)(_),a=(0,s.v9)(p),f=(0,s.I0)(),c=(0,o.lr)(),d=(0,t.Z)(c,2),m=d[0],g=d[1];return(0,l.useEffect)((function(){var e=m.get("page"),t=m.get("term")||"",s=m.get("friend"),l=a,o=n;e&&(l=Number(e)),t&&(o=(0,r.Z)((0,r.Z)({},o),{},{term:t})),s&&(o=(0,r.Z)((0,r.Z)({},o),{},{friend:"null"===s?null:"true"===s})),f((0,N.D7)(l,i,o))}),[f,i,m]),(0,l.useEffect)((function(){var e={};n.term&&(e.term=n.term),null!==n.friend&&(e.friend=String(n.friend)),1!==a&&(e.page=String(a)),g(e)}),[n,a,g]),e?(0,u.jsx)(S.Z,{}):(0,u.jsx)(w,{currentPage:a,pageSize:i,filter:n})}))}}]);
//# sourceMappingURL=575.50f22932.chunk.js.map